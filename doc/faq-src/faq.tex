\documentclass[a4paper,10pt]{scrartcl}
\usepackage[latin1]{inputenc}
\usepackage{url}
\usepackage[left=3cm,right=3cm,top=2cm,bottom=2cm,nohead]{geometry}
\usepackage[colorlinks=false,pdfborder=0 0 0]{hyperref}
\usepackage[T1]{fontenc}

%opening
\title{YajHFC FAQ}
\author{}
\date{}
\begin{document}

\maketitle

\tableofcontents

\section{Installation}
\subsection{Where do I get a fax viewer for Windows?}

Generally you can use any program that can display TIFF files, although 
some of them display faxes in low resolution with an incorrect (half) height.

Luckily, all recent Windows versions come with program that does this correctly:

\begin{description}
\item[Windows 95/98/ME/2000:]
 You can use the Accessories/Imaging application.
      To use it with YajHFC, use the browse button of the \texttt{Command line for fax viewer}
      box to browse for \texttt{kodakimg.exe} on your hard drive.\\
      This file usually resides either in the Windows directory (Win 98/ME) \emph{or} \\
      in \verb.Program Files\Windows NT\Accessories\ImageVue. (Win 2k).
       
\item[Windows XP:]
You can use the integrated ``picture and fax viewer'' (sorry, I don't know
      how this is exactly called in English).
      To use it, enter the following text into the \texttt{Command line for fax viewer} box:\\
      \verb#rundll32.exe shimgvw.dll,ImageView_Fullscreen %s#
 \end{description}

      
\subsection{Where do I get a fax viewer for Linux/*BSD/... ?}
\texttt{kfax} works very well for me, but just as with Windows, you may use any program that 
can display TIFF files, just search your distribution's package database 
(xloadimage does \emph{not} work for me, however).


\subsection{What should I use as a fax viewer on Mac OS X?}
Just enter \verb.open %s. into the \texttt{Command line for fax viewer} box.
The faxes should open in the default application now.
Thanks to Scott Harris for figuring this out.


\subsection{Where do I get a PostScript viewer?}
\begin{description}
\item[Windows:] Use Ghostview from \url{http://www.cs.wisc.edu/~ghost/}
\item[Linux/*BSD/...:] Just install one of the Postscript viewer packages
                (e.g. \texttt{gv, kghostview, gnome-gv, ...})
\end{description}

\subsection{Where can I get GhostScript from?}
\begin{description}
\item[Windows:] Download it from \url{http://www.cs.wisc.edu/~ghost/}
\item[Linux/*BSD/...:] Install the GhostScript package for your distribution (on most installations this package will already be installed; if not: the package name usually begins with \texttt{ghostscript} or \texttt{gs})
\end{description}

\subsection{Where can I get TIFF2PDF from?}
\begin{description}
\item[Windows:] Download it from \url{http://gnuwin32.sourceforge.net/downlinks/tiff.php}\\ If this link does not work, please see \url{http://gnuwin32.sourceforge.net/packages/tiff.htm} or \url{http://www.libtiff.org/}.
\item[Linux/*BSD/...:] Install the libtiff tools package for your distribution. Usually this package will have the word \texttt{tiff} in its name (on Debian/Ubuntu it is called \texttt{libtiff-tools} and on SUSE \texttt{tiff}).
\end{description}

\section{Usage of the program}	

\subsection{How can I edit PostScript cover page templates?}
Those templates have to be in the same special PostScript format the HylaFAX
\texttt{faxcover} program uses. See the following pages for hints how to create/edit
such files: \\
\url{http://www.hylafax.org/HylaFAQ/Q202.html}\\
\url{http://www.hylafax.org/howto/tweaking.html}\\

Alternatively, starting with YajHFC 0.3.7, you can use Cover pages in HTML or, with a plugin, in XSL:FO or ODT (OpenDocument Text) format.

\subsection{I created a HTML document/cover page but the formatting in YajHFC looks wrong!}

YajHFC uses the HTML support integrated in Java (\texttt{HTMLEditorKit} / \texttt{HTMLDocument}) to convert HTML to PostScript. This support is quite limited, however, especially it only supports HTML 3.2.\\
This means that complex layouts often won't render correctly in YajHFC.
To achieve the layout you want, you will basically have the following alternatives:

\begin{itemize}
 \item Do some ``trial \& error'' until the layout looks right (the preview button in the send dialog will show the layout of the converted HTML).
 \item Use a HTML editor like Ekit (\url{http://www.hexidec.com/ekit.php}) that also uses the Java HTML support, so it will render similarily in YajHFC.
 \item Use another format for the cover page (such as XSL:FO or ODT with the FOP Plugin).
\end{itemize}

\subsection{Which fields are recognized in a HTML cover page?}

The following ``words'' are replaced (case insensitively) with the corresponding values when a HTML file is used as a cover page:

\begin{center}
\begin{tabular}{|l|l|}
\hline
\bfseries Word & \bfseries Meaning \\
\hline\hline
\ttfamily @@Name@@ & The recipient's name \\\hline
\ttfamily @@Company@@ & The recipient's company \\\hline
\ttfamily @@Location@@ & The recipient's location \\\hline
\ttfamily @@Faxnumber@@ & The recipient's fax number \\\hline
\ttfamily @@Voicenumber@@ & The recipient's voice number \\\hline
\ttfamily @@FromName@@ & The sender's name \\\hline
\ttfamily @@FromCompany@@ & The sender's company \\\hline
\ttfamily @@FromLocation@@ & The sender's location \\\hline
\ttfamily @@FromFaxnumber@@ & The sender's fax number \\\hline
\ttfamily @@FromVoicenumber@@ & The sender's voice number \\\hline
\ttfamily @@FromEMail@@ & The sender's e-mail address \\\hline
\ttfamily @@Subject@@ & The fax's subject \\\hline
\ttfamily @@Date@@ & Today's date \\\hline
\ttfamily @@PageCount@@ & The number of pages excluding the cover page \\\hline
\ttfamily @@Comments@@ & The comments entered for this fax \\\hline
\end{tabular}
\end{center}

Starting with version 0.4.0 the following additional fields are available (note that the \textit{italic} fields will be empty when you use resend fax):
\begin{center}
\begin{tabular}{|l|p{.7\textwidth}|}
\hline
\bfseries Word & \bfseries Meaning \\
\hline\hline
\ttfamily @@Surname@@ & The recipient's surname (resent faxes: the same as \texttt{@@Name@@}) \\\hline
\ttfamily\itshape @@GivenName@@ & The recipient's given name \\\hline
\ttfamily\itshape @@Title@@ & The recipient's title \\\hline
\ttfamily\itshape @@Position@@ & The recipient's position \\\hline
\ttfamily\itshape @@Department@@ & The recipient's department\\\hline
\ttfamily @@CompanyName@@ & The recipient's company name (without department) (resent faxes: the same as \texttt{@@Company@@})\\\hline
\ttfamily\itshape @@Street@@ & The recipient's street name \\\hline
\ttfamily @@Place@@ & The recipient's location (without street or ZIP code) (resent faxes: the same as \texttt{@@Location@@})\\\hline
\ttfamily\itshape @@ZIPCode@@ & The recipient's ZIP Code \\\hline
\ttfamily\itshape @@State@@ & The recipient's state\\\hline
\ttfamily\itshape @@Country@@ & The recipient's country\\\hline
\ttfamily\itshape @@EMail@@ & The recipient's e-mail address\\\hline\hline
\ttfamily @@FromSurname@@ & The sender's  surname \\\hline
\ttfamily @@FromGivenName@@ & The sender's  given name \\\hline
\ttfamily @@FromTitle@@ & The sender's  title \\\hline
\ttfamily @@FromPosition@@ & The sender's position \\\hline
\ttfamily @@FromDepartment@@ & The sender's  department\\\hline
\ttfamily @@FromCompanyName@@ & The sender's  company name (without department)\\\hline
\ttfamily @@FromStreet@@ & The sender's  street name \\\hline
\ttfamily @@FromPlace@@ & The sender's  location (without street or ZIP code)\\\hline
\ttfamily @@FromZIPCode@@ & The sender's  ZIP Code \\\hline
\ttfamily @@FromState@@ & The sender's  state\\\hline
\ttfamily @@FromCountry@@ & The sender's  country\\\hline
\ttfamily @@FromEMail@@ & The sender's  e-mail address\\\hline
\end{tabular}
\end{center}

This replacement is done at the source code level, so those words probably won't be recognized if the formatting changes inside one of it (e.g. \texttt{@@sub\textit{ject@@}}).

\subsection{I liked the old send dialog better. Can I have it back?}

Just open the Options dialog and select \texttt{Traditional} as ``Style of send dialog''.

\subsection{I want to access a phone book over JDBC, but YajHFC won't find the driver even if I specify a correct class path when invoking java.}

If you use the \texttt{-jar} command line argument, java ignores a user defined class path.
So, please start YajHFC using the following commands (replace \texttt{/path/to/dbdriver.jar} and \texttt{/path/to/yajhfc.jar} with the respective real paths and file names of course):
\begin{description}
\item [Linux/Unix:] \verb#java -classpath /path/to/dbdriver.jar:/path/to/yajhfc.jar yajhfc.Launcher#
\item [Windows:] \verb#java -classpath c:\path\to\dbdriver.jar;c:\path\to\yajhfc.jar yajhfc.Launcher#
\end{description}

\subsection{What can I enter as a value for the \texttt{matches} Operator in the custom filter dialog?}

Regular Expressions. A short reference about the accepted syntax can be found at:
\url{http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html}

Please note that Regular Expressions are not the same as wildcards: 
For example, to get the effect of the \verb.*. wildcard, you have to use \verb#.*# and 
for the effect of the wildcard \verb#?# use \verb#.#.

\subsection{Which command line arguments does YajHFC understand?}

\begin{verbatim}
General usage:
java -jar yajhfc.jar [--help] [--debug] [--admin] [--background|--noclose]
         [--configdir=directory] [--loadplugin=filename] [--logfile=filename]
         [--showtab=0|R|1|S|2|T] [--recipient=...] [--stdin | filename ...]
Argument description:
filename     One or more file names of PostScript files to send.
--stdin      Read the file to send from standard input
--recipient  Specifies the phone number of a recipient to send the fax to.
             You may specify multiple arguments for multiple recipients.
--admin      Start up in admin mode
--debug      Output some debugging information
--logfile    The logfile to log debug information to (if not specified, use stdout)
--background If there is no already running instance, launch a new instance
             and terminate (after submitting the file to send)
--noclose    Do not close YajHFC after submitting the fax
--showtab    Sets the tab to display on startup. Specify 0 or R for the "Received",
             1 or S for the "Sent" or 2 or T for the "Transmitting" tab.
--loadplugin Specifies the jar file of a YajHFC plugin to load.
--no-plugins Disables loading plugins from the plugin.lst file.
--configdir  Sets a configuration directory to use instead of ~/.yajhfc
--help       Displays this text
\end{verbatim}


\subsection{When trying to view sent faxes I always get an error message saying 
   \texttt{File format PCL not supported}, although all the documents are PostScript/PDF.}

Check the \texttt{Use PCL file type bugfix} checkbox in the Options dialog and try again.

Some HylaFAX versions incorrectly report a file type of ``PCL'' for all documents
associated with a job. If this checkbox is checked, YajHFC tries to guess the
file type if PCL is reported (which usually works pretty well).

\subsection{I often get an error when I am sending two or more faxes in a row. What can I do about it?}

Some versions of the HylaFAX server seem to have problems when more than one fax is submitted per session.

To work around that problem, go to the \texttt{Server} tab in the Options dialog, check the \texttt{Create new session for every action} box and try if the problem persists.
If this does \emph{not} help, please mail me a bug report.

\subsection{YajHFC running under Windows sometimes saves its configuration in \texttt{C:\textbackslash .yajhfc} instead of \texttt{C:\textbackslash Documents and Settings\textbackslash USERNAME\textbackslash .yajhfc}}

As a default YajHFC saves its configuration information in the subdirectory \texttt{.yajhfc} of the directory returned by
the Java system property \texttt{user.home}.
Sometimes some Java versions seem to not set this property correctly leading to the misbehaviour described above.

As a workaround, you can set this property explicitely when starting YajHFC by using java's \texttt{-D} command line switch, for example: \\
\texttt{java -Duser.home=\%USERPROFILE\% -jar "C:\textbackslash Program Files\textbackslash yajhfc.jar"}

\subsection{What does the column XYZ mean?}

Most likely, I don't know exactly either, because the column descriptions
are simply copied from the \verb.faxstat(1). man page (JobFmt/RcvFmt) and 
abbreviated/translated.

\subsection{The tray icon is not shown!}

The tray icon will only be shown when you run YajHFC under Java 1.6 (``Java 6'').
If you use Java 1.5 (``Java 5''), a tray icon is not supported.

So, please make sure you have Java 1.6 installed. If you are absolutely sure you have Java 1.6 installed and the tray icon is still not shown, please mail me a bug report.

\subsection{How can I set some default settings?}

Starting with version 0.4.0 the following files (if they exist) are loaded in order to retrieved the saved settings:
\begin{enumerate}
 \item \texttt{[Directory where yajhfc.jar resides]/settings.default}
 \item the user settings from \texttt{\{user.home\}\footnote{In Windows \texttt{user.home} usually is \texttt{C:\textbackslash Documents and Settings\textbackslash USERNAME}.}/.yajhfc/settings} (if you specified \texttt{--configdir=DIR}, \texttt{DIR/settings} is used instead)
 \item \texttt{[Directory where yajhfc.jar resides]/settings.override}
\end{enumerate}

Settings from files loaded later override the settings specified in the files loaded earlier, i.e. the settings from \texttt{settings.override} take precedence over those in the user settings and \texttt{settings.default}.
\medskip

This mechanism can be used to specify default settings (e.g. in a networked environment): \\
Simply configure one YajHFC installation as you like, then copy \texttt{\{user.home\}/.yajhfc/settings} to the directory where \texttt{yajhfc.jar} is and rename it to \texttt{settings.default}.
\medskip

Overrides can be specified in a similar fashion. In this case, you are encouraged to edit the settings file (it is a plain text file), and remove any lines that specify settings you wish not to override (usually you will want to remove at least \texttt{user} and \texttt{pass} (user name and password used to connect to the HylaFAX server), \texttt{FromName}, \texttt{*ColState} (the widths of the table columns), \texttt{*Bounds} (the position of the different windows) and \texttt{mainwinLastTab}).

Note, however that the user can still set these settings to a different value for a running YajHFC instance. They are reset to the override values only when YajHFC is started again (i.e. the user can set these settings, but they are not saved between different runs of YajHFC).


\section{Miscellaneous}

\subsection{Why are passwords stored in clear text?}

Simply put: Because there isn't any method that is much better.

YajHFC could encode/``encrypt'' them somehow before storing, but if it did, 
you could always look at the source code to find out how to decrypt them
(even if YajHFC was closed source software you could still disassemble it
or experiment a bit to find that out).

The only secure method would require you to enter a master password every time
you start YajHFC, but in my opinion that would not provide an improvement over
entering the ``real'' password.


\subsection{Why did you choose that stupid name?}

YajHFC started out as a test project for Java and the \texttt{gnu.hylafax} library and so
it didn't have a ``nice'' name. After working at it for a while, I noticed that it turned 
out to be actually useable, so I chose to give it a name.
Because I was also playing around with SuSE's yast at that point of time and I knew there
were/are already a lot of other java hylafax clients out there, I simply called it
``\textbf{y}et \textbf{a}nother \textbf{J}ava \textbf{H}ylaFAX \textbf{c}lient''. 

\end{document}
